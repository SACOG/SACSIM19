# SACSIM19 quickAgg Tool

NOTICE - THIS IS A DRAFT VERSION OF THE DOCUMENTATION.

The quickAgg tool is designed to be a lightweight version of the [Integrated Land Use and Transportation (ILUT) tool](https://github.com/SACOG/SACSIM19/tree/main/ilut_tools) to provide some of the most commonly-used, region-level model outputs.

## Using the quickAgg Tool

### Package dependencies

The quickAgg tool ships with the following dependencies included:

* `dbfread`

But also requires:

* `pandas`
* `arcpy`, if running as an ArcGIS Pro toolbox

### Preparing Inputs

To generate the necessary inputs for the quickAgg tool you must:

1. Complete a SACSIM model run
2. After completing the run, execute the [attach-skims-to-trips script](https://github.com/SACOG/SACSIM19/tree/main/model_scripts/post_processing/attach_skims), which attaches skim distances to each trip in the trip table
3. If you want to include total roadway VMT (instead of just resident-generated VMT) in the output table, create a daynet VMT table with one of the daynet [daily rollup scripts](https://github.com/SACOG/SACSIM19/tree/main/model_scripts/post_processing/Daily_Rollups).

### Running  in ArcGIS Pro

To use the tool in ArcGIS Pro, load the toolbox (TBX file) into an Arc GIS Pro project, edit inputs accordingly, and run the tool.

### Running from a python interpreter

1. Open model_topline_summary.py 
2. Edit the inputs accordingly (under the `__name__ == __main__` section of the script).
3. Comment out all lines that refer to the `arcpy` library
4. Run the tool.

## quickAgg Tool Outputs

The quickAgg tool gives the values in the table below. **Importantly**, the outputs, with the exception of the "roadway" outputs, only consider trips made by SACOG residents that both start and end in the SACOG region. E.g., `tot_vmt_ii` does not include VMT generated by trips that start or end outside the region, nor does it include trips that pass through the region.

The two "roadway" outputs are based on summing up totals on all model links. E.g., `roadway_vmt` is simply the sum of all VMT on all modeled links in the region, inclusive of VMT on centroid connectors.

| Output            | Description                                                  |
| ----------------- | ------------------------------------------------------------ |
| model_run_folder  | Folder  that the SACSIM model run is in                      |
| scenario_year     | Scenario  year                                               |
| scenario_desc     | User-entered  description of the scenario run                |
| tot_pop           | Total  population                                            |
| tot_vmt_ii        | Total  vehicle-miles traveled by SACOG residents for trips that both started and  ended in the region. Does *not* include VMT from trips that start or end  outside of the SACOG region |
| tot_restrips      | Total  trips made by SACOG residents                         |
| tot_resvmt_percap | VMT  per capita, based on internal-internal trips by residents |
| roadway_vmt       | Total  VMT on all model links                                |
| roadway_cvmt      | Total  congested VMT on all model links                      |
| walk_trips        | Total  walking trips                                         |
| bike_trips        | Total  cycling trips                                         |
| sov_trips         | drive-alone  trips                                           |
| hov2_trips        | Total  HOV2 trips                                            |
| hov3_trips        | Total  HOV3+ trips                                           |
| transit_trips     | Total  transit trips                                         |
| schoolbus_trips   | Total  schoolbus trips                                       |
